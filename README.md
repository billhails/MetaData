# MetaData

MetaData is a code-generation system that takes a single XML file describing a data model (entities
and their relationships) and generates a complete backend application, consisting of a database
and a GraphQL interface to that database. The code generation system is written in Python, and
in the first instance the generated database is SQLite and the generated GraphQL stack is node js.

## Build the Code Generator

Clone the repo, then in the root directory do

```commandline
python --version # requires 3.x
virtualenv --python=pythonX.Y `pwd`/venv # use the python version output from the previous command
pip install -r requirements.txt
```

## Build the Demo Application

The provided [demo/schema.xml](demo/schema.xml) shows how to declare entities and their relationships, and
the sample target application can be generated by:

```commandline
python3 main.py --schema demo/schema.xml --output demo/out --architecture sqlite-node-graphql
```

This will create the directory `demo/out` if it doesn't exist and populate it with the generated application.

Note that the argument to `--architecture` is just the name of a directory under `./architectures`
containing appropriate templates. The intention is to support more architectures in the future.

To then run the application:

```commandline
cd demo/out
npm install     # first time - install node js dependencies
npm run init-db # first time - creates the empty database
npm run dev     # run the application on http://localhost:4000/graphql
```

## TODO

Lots, but specifically
* tests (generated)
* auth
* business logic
* enumeration data type
* more data types
* deferred data retrieval - done (but dataloader is sub-optimal)
* pagination
* mutation
* local template overrides
* OpenTracing or OpenTelemetry metrics